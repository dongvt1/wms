<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.jeecg.modules.warehouse.mapper.InventoryAlertMapper">

    <!-- 批量解决预警 -->
    <update id="resolveAlertsBatch">
        UPDATE inventory_alerts 
        SET alert_status = 'RESOLVED', resolved_at = NOW(), resolved_by = #{resolvedBy} 
        WHERE id IN 
        <foreach collection='alertIds' item='id' open='(' separator=',' close=')'>
            #{id}
        </foreach>
    </update>

    <!-- 批量忽略预警 -->
    <update id="dismissAlertsBatch">
        UPDATE inventory_alerts 
        SET alert_status = 'DISMISSED', resolved_at = NOW(), resolved_by = #{resolvedBy} 
        WHERE id IN 
        <foreach collection='alertIds' item='id' open='(' separator=',' close=')'>
            #{id}
        </foreach>
    </update>

</mapper>