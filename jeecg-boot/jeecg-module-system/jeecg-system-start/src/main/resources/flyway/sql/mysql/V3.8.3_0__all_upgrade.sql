-- ---author:wangshuai---date:20250806-----for: 【QQYUN-12164】Add a personal signature to the user table and whether to enable the personal signature field
ALTER TABLE sys_user 
ADD COLUMN sign_enable tinyint(1) NULL DEFAULT NULL COMMENT 'Whether to enable personalized signature（0 no 1yes）' AFTER bpm_status,
ADD COLUMN sign varchar(500) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'Personalized signature' AFTER sign_enable;

-- ---author:chenrui---date:20250806-----for: 【QQYUN-12244】AICall template generationwordCV
INSERT INTO `airag_flow` (`id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`, `application_name`, `name`, `descr`, `icon`, `chain`, `design`, `status`, `metadata`) VALUES ('1952634605517447170', 'admin', '2025-08-05 15:35:43', 'admin', '2025-08-06 17:37:27', 'A04', NULL, 'jeecg', 'Example_AIgenerateonlineCV', '', '', 'THEN(\n    start.tag(\'start-node\'),\n    llm.tag(\'215734195065536512\'),\n    enhanceJava.tag(\'215740280715427840\'),\n    end.tag(\'215735188368998400\')\n).tag(\"start-node\")', '{\"nodes\":[{\"id\":\"start-node\",\"type\":\"start\",\"x\":300,\"y\":404,\"properties\":{\"text\":\"start\",\"remarks\":\"\",\"options\":{},\"inputParams\":[{\"field\":\"content\",\"name\":\"Profile\",\"type\":\"string\",\"required\":true},{\"field\":\"history\",\"name\":\"History\",\"type\":\"string[]\",\"required\":false},{\"field\":\"profile\",\"name\":\"Basic information\",\"type\":\"string\",\"required\":true}],\"outputParams\":[],\"height\":92,\"width\":332}},{\"id\":\"215734195065536512\",\"type\":\"llm\",\"x\":739,\"y\":406,\"properties\":{\"text\":\"LLM\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"这yesgenerateonline Word Documentary JSON Structural description，Each object represents a content block。\\nField description：\\n    • type：Content type。Optional：title（title）、list（list）、separator（divider）、hyperlink（hyperlink）、pageBreak（Page break）、tab（tab character）、\\\"\\\"（normal text）。\\n    • level：title层级，only type for title used when，value：first ~ sixth。\\n    • value：text、Image address、hyperlink等。\\n    • valueList：used fortitle、list、hyperlink等，Array element support value and style fields。\\n    • listType：listtype，ul（disorder）、ol（orderly）。\\n    • listStyle：list样式，like disc、decimal、circle、square、checkbox。\\n    • trList、colgroup：table row definition，onlyused for table。\\n    • style field：font、size、bold、color、italic、highlight、underline、strikeout。\\n    • divider：dashArray。\\n    • other：rowFlex（left、center、right、alignment）、backgroundColor、verticalAlign、textDecoration etc. for special styles。\\nExample：\\n[\\n  {\\n    \\\"type\\\": \\\"title\\\",\\n    \\\"level\\\": \\\"first\\\",\\n    \\\"valueList\\\": [{ \\\"value\\\": \\\"主titleExample\\\", \\\"font\\\": \\\"Microsoft Yahei\\\", \\\"size\\\": 26, \\\"bold\\\": true, \\\"rowFlex\\\": \\\"center\\\" }]\\n  },\\n  { \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"normal text内容Example\\\" },\\n  {\\n    \\\"type\\\": \\\"list\\\",\\n    \\\"listType\\\": \\\"ul\\\",\\n    \\\"listStyle\\\": \\\"disc\\\",\\n    \\\"valueList\\\": [\\n      { \\\"value\\\": \\\"list项1\\\" },\\n      { \\\"value\\\": \\\"list项2\\\" }\\n    ]\\n  },\\n  { \\\"type\\\": \\\"separator\\\", \\\"dashArray\\\": [1] },\\n  {\\n    \\\"type\\\": \\\"hyperlink\\\",\\n    \\\"url\\\": \\\"https://www.example.com\\\",\\n    \\\"valueList\\\": [{ \\\"value\\\": \\\"Click to visit the official website\\\", \\\"color\\\": \\\"#0000FF\\\", \\\"underline\\\": true }]\\n  },\\n  { \\\"type\\\": \\\"pageBreak\\\" },\\n  { \\\"type\\\": \\\"tab\\\" },\\n  { \\\"type\\\": \\\"superscript\\\", \\\"value\\\": \\\"Superscript content\\\" },\\n  { \\\"type\\\": \\\"subscript\\\", \\\"value\\\": \\\"Subscript content\\\" }\\n]\\n⸻\\nNotice：\\n- Output only`json`Format。\\n- Content structure、No limit to style combinations，但Field与valuemust符合说明。\\n- titlecontent block of type，middlevalueMust be`\\\\n`ending\\n- \\\"\\\"\\\"use`{ \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"\\\\n\\\" }`perform automatic line wrapping，There is no automatic line wrapping between objects\\\"\\\"\\\"。\\n\\n\"},{\"role\":\"user\",\"content\":\"请根据以上FieldandExample，generate一个完整的个人CV文档 JSON。\\n- 至少包ContainsBasic information、personal advantage、Work experience、project manager、Educational experience and other modules。\\n- If the basic data is insufficient，Reference data can be generated appropriately。\\n- user信息like下：\\nBasic information：{{base}}\\nIntroduction：{{profile}}\"}]},\"inputParams\":[{\"field\":\"profile\",\"name\":\"base\",\"nodeId\":\"start-node\"},{\"field\":\"content\",\"name\":\"profile\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"215735188368998400\",\"type\":\"end\",\"x\":1577,\"y\":354,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"height\":114,\"width\":332}},{\"id\":\"215740280715427840\",\"type\":\"enhanceJava\",\"x\":1156,\"y\":352,\"properties\":{\"text\":\"Java Enhance\",\"options\":{\"enhance\":{\"type\":\"spring\",\"path\":\"jeecgDemoAiWordGen\"}},\"inputParams\":[{\"field\":\"text\",\"name\":\"resp\",\"nodeId\":\"215734195065536512\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\"}],\"height\":180,\"width\":332}}],\"edges\":[{\"id\":\"215734195073925120\",\"type\":\"base-edge\",\"sourceNodeId\":\"start-node\",\"targetNodeId\":\"215734195065536512\",\"sourceAnchorId\":\"start-node_output\",\"targetAnchorId\":\"215734195065536512_input\",\"pointsList\":[{\"x\":466,\"y\":389},{\"x\":566,\"y\":389},{\"x\":473,\"y\":347},{\"x\":573,\"y\":347}]},{\"id\":\"215740280719622144\",\"type\":\"base-edge\",\"sourceNodeId\":\"215734195065536512\",\"targetNodeId\":\"215740280715427840\",\"sourceAnchorId\":\"215734195065536512_output\",\"targetAnchorId\":\"215740280715427840_input\",\"pointsList\":[{\"x\":905,\"y\":347},{\"x\":1005,\"y\":347},{\"x\":890,\"y\":293},{\"x\":990,\"y\":293}]},{\"id\":\"215740398487289856\",\"type\":\"base-edge\",\"sourceNodeId\":\"215740280715427840\",\"targetNodeId\":\"215735188368998400\",\"sourceAnchorId\":\"215740280715427840_output\",\"targetAnchorId\":\"215735188368998400_input\",\"pointsList\":[{\"x\":1322,\"y\":293},{\"x\":1422,\"y\":293},{\"x\":1311,\"y\":328},{\"x\":1411,\"y\":328}]}]}', 'enable', '{\"outputs\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"inputs\":[{\"field\":\"content\",\"name\":\"Profile\",\"required\":true,\"type\":\"string\"},{\"field\":\"history\",\"name\":\"History\",\"required\":false,\"type\":\"string[]\"},{\"field\":\"profile\",\"name\":\"Basic information\",\"required\":true,\"type\":\"string\"}]}');

-- -author:chenrui---date:2025/8/11-----for:[QQYUN-13400]Remove obsolete menu---
delete from sys_permission where id = '1948206070361595906';
delete from sys_permission where id = '1948205626927194114';

-- -author:chenrui---date:2025/8/13-----for:[QQYUN-13394]optimization，开源版本的账Number都yes错误的，Users don’t know they need to configure their own accounts---
-- Add activation field
ALTER TABLE `airag_model`
ADD COLUMN `activate_flag` int NULL COMMENT 'yesno激活（1=yes，0=no）' AFTER `model_params`;
-- Update historical data values
update airag_model set activate_flag = 0 ;



-- ---author:chenrui---date:20250818-----for:renewgenerateCV提示词,Make sure to generatejsoncan be parsed
UPDATE `airag_flow` SET `chain` = 'THEN(\n    start.tag(\'start-node\'),\n    llm.tag(\'215734195065536512\'),\n    enhanceJava.tag(\'215740280715427840\'),\n    end.tag(\'215735188368998400\')\n).tag(\"start-node\")', `design` = '{\"nodes\":[{\"id\":\"start-node\",\"type\":\"start\",\"x\":300,\"y\":404,\"properties\":{\"text\":\"start\",\"remarks\":\"\",\"options\":{},\"inputParams\":[{\"field\":\"content\",\"name\":\"Profile\",\"type\":\"string\",\"required\":true},{\"field\":\"history\",\"name\":\"History\",\"type\":\"string[]\",\"required\":false},{\"field\":\"profile\",\"name\":\"Basic information\",\"type\":\"string\",\"required\":true}],\"outputParams\":[],\"height\":92,\"width\":332}},{\"id\":\"215734195065536512\",\"type\":\"llm\",\"x\":739,\"y\":406,\"properties\":{\"text\":\"LLM\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"你mustOutput onlylegitimate且can be JSON.parse() correctly parsed JSON。\\nDo not output any explanation、comment or JSON text other than。\\n\\n\\nJSON structural rules：\\n- Each object represents a content block。\\n- Field description：\\n • \\\"type\\\"：Content type，Optional：\\\"title\\\"（title）、\\\"list\\\"（list）、\\\"separator\\\"（divider）、\\\"hyperlink\\\"（hyperlink）、\\\"pageBreak\\\"（Page break）、\\\"tab\\\"（tab character）、\\\"\\\"（normal text）、\\\"superscript\\\"（superscript）、\\\"subscript\\\"（subscript）、\\\"table\\\"（sheet）。\\n • \\\"level\\\"：title层级，onlywhen type for \\\"title\\\" used when，value：\\\"first\\\" ~ \\\"sixth\\\"。\\n • \\\"value\\\"：text、Image address、hyperlink等。\\n • \\\"valueList\\\"：array，used fortitle、list、hyperlink等，Array element support \\\"value\\\" and style fields。\\n • \\\"listType\\\"：listtype，value：\\\"ul\\\"（disorder）、\\\"ol\\\"（orderly）。\\n • \\\"listStyle\\\"：list样式，like \\\"disc\\\"、\\\"decimal\\\"、\\\"circle\\\"、\\\"square\\\"、\\\"checkbox\\\"。\\n • \\\"trList\\\"、\\\"colgroup\\\"：table row definition，onlyused for \\\"table\\\"。\\n • style field：\\\"font\\\"、\\\"size\\\"、\\\"bold\\\"、\\\"color\\\"、\\\"italic\\\"、\\\"highlight\\\"、\\\"underline\\\"、\\\"strikeout\\\"。\\n • \\\"dashArray\\\"：used for \\\"separator\\\"。\\n • otherstyle field：\\\"rowFlex\\\"（\\\"left\\\"、\\\"center\\\"、\\\"right\\\"、\\\"alignment\\\"）、\\\"backgroundColor\\\"、\\\"verticalAlign\\\"、\\\"textDecoration\\\"。\\n- when type = \\\"title\\\" hour，\\\"value\\\" Must be \\\"\\\\n\\\" ending。\\n- 主动换行请use `{ \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"\\\\n\\\" }`，不同There is no automatic line wrapping between objects。\\n- 所有键名andCharacter符串mustuse英文双引Number `\\\"`。\\n\\n\\noutputmust严gridyes JSON array，例like：\\n[\\n {\\n  \\\"type\\\": \\\"title\\\",\\n  \\\"level\\\": \\\"first\\\",\\n  \\\"valueList\\\": [{ \\\"value\\\": \\\"主titleExample\\\\n\\\", \\\"font\\\": \\\"Microsoft Yahei\\\", \\\"size\\\": 26, \\\"bold\\\": true, \\\"rowFlex\\\": \\\"center\\\" }]\\n },\\n { \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"normal text内容Example\\\" },\\n {\\n  \\\"type\\\": \\\"list\\\",\\n  \\\"listType\\\": \\\"ul\\\",\\n  \\\"listStyle\\\": \\\"disc\\\",\\n  \\\"valueList\\\": [\\n   { \\\"value\\\": \\\"list项1\\\" },\\n   { \\\"value\\\": \\\"list项2\\\" }\\n  ]\\n }\\n]\"},{\"role\":\"user\",\"content\":\"请根据以上FieldandExample，generate一个完整的个人CV文档 JSON。\\n- 至少包ContainsBasic information、personal advantage、Work experience、project manager、Educational experience and other modules。\\n- If the basic data is insufficient，Reference data can be generated appropriately。\\n- user信息like下：\\nBasic information：{{base}}\\nIntroduction：{{profile}}\"}]},\"inputParams\":[{\"field\":\"profile\",\"name\":\"base\",\"nodeId\":\"start-node\"},{\"field\":\"content\",\"name\":\"profile\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"215735188368998400\",\"type\":\"end\",\"x\":1577,\"y\":354,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"height\":114,\"width\":332}},{\"id\":\"215740280715427840\",\"type\":\"enhanceJava\",\"x\":1156,\"y\":352,\"properties\":{\"text\":\"Java Enhance\",\"options\":{\"enhance\":{\"type\":\"spring\",\"path\":\"jeecgDemoAiWordGen\"}},\"inputParams\":[{\"field\":\"text\",\"name\":\"resp\",\"nodeId\":\"215734195065536512\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\"}],\"height\":180,\"width\":332}}],\"edges\":[{\"id\":\"215734195073925120\",\"type\":\"base-edge\",\"sourceNodeId\":\"start-node\",\"targetNodeId\":\"215734195065536512\",\"sourceAnchorId\":\"start-node_output\",\"targetAnchorId\":\"215734195065536512_input\",\"pointsList\":[{\"x\":466,\"y\":389},{\"x\":566,\"y\":389},{\"x\":473,\"y\":347},{\"x\":573,\"y\":347}]},{\"id\":\"215740280719622144\",\"type\":\"base-edge\",\"sourceNodeId\":\"215734195065536512\",\"targetNodeId\":\"215740280715427840\",\"sourceAnchorId\":\"215734195065536512_output\",\"targetAnchorId\":\"215740280715427840_input\",\"pointsList\":[{\"x\":905,\"y\":347},{\"x\":1005,\"y\":347},{\"x\":890,\"y\":293},{\"x\":990,\"y\":293}]},{\"id\":\"215740398487289856\",\"type\":\"base-edge\",\"sourceNodeId\":\"215740280715427840\",\"targetNodeId\":\"215735188368998400\",\"sourceAnchorId\":\"215740280715427840_output\",\"targetAnchorId\":\"215735188368998400_input\",\"pointsList\":[{\"x\":1322,\"y\":293},{\"x\":1422,\"y\":293},{\"x\":1311,\"y\":328},{\"x\":1411,\"y\":328}]}]}', `status` = 'enable', `metadata` = '{\"outputs\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"inputs\":[{\"field\":\"content\",\"name\":\"Profile\",\"required\":true,\"type\":\"string\"},{\"field\":\"history\",\"name\":\"History\",\"required\":false,\"type\":\"string[]\"},{\"field\":\"profile\",\"name\":\"Basic information\",\"required\":true,\"type\":\"string\"}]}' WHERE `id` = '1952634605517447170';

-- ---author:wangshuai---date:20250820-----for:【QQYUN-13421】Extended job plus job level：Modify the original job field
ALTER TABLE `sys_position`
CHANGE COLUMN `post_rank` `post_level` int(2) NULL DEFAULT NULL COMMENT 'Job level' AFTER `name`;

-- ---author:wangshuai---date:20250820-----for:【QQYUN-13426】Added new rank and superior position fields to the department table
-- Modify dictionary department type
UPDATE `sys_dict` SET  `description` = 'Institution type 1company，2department，3post，4子company' WHERE `id` = '1174511106530525185';
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1955230463631126529', '1174511106530525185', '子company', '4', NULL, 1, 1, 'admin', '2025-08-12 19:30:44', NULL, NULL, NULL);

-- Added new rank and superior position fields to the department table
ALTER TABLE `sys_depart`
MODIFY COLUMN `org_category` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL DEFAULT '1' COMMENT 'Institutional Category 1company，2department，3post，4子company' AFTER `description`,
ADD COLUMN `position_id` varchar(32) NULL COMMENT 'Rankid' AFTER `iz_leaf`,
ADD COLUMN `dep_post_parent_id` varchar(32) NULL COMMENT '上级postid' AFTER `position_id`,
ADD INDEX `idx_sd_position_id`(`position_id`) USING BTREE,
ADD INDEX `idx_sd_dep_post_parent_id`(`dep_post_parent_id`) USING BTREE;

-- author:wangshuai---date:20250820--for: 【QQYUN-13422】【User management】Add field 主post 兼职post Cancel position ---

-- user表新增postand兼职postField
ALTER TABLE `sys_user`
ADD COLUMN `main_dep_post_id` varchar(32) NULL COMMENT '主post（departmentpostid）' AFTER `sign`,
ADD COLUMN `other_dep_post_id` varchar(1000) NULL COMMENT '兼职post(departmentpostid)' AFTER `main_dep_post_id`,
ADD INDEX `idx_su_main_dep_post_id`(`main_dep_post_id`) USING BTREE,
ADD INDEX `idx_su_other_dep_post_id`(`other_dep_post_id`) USING BTREE;

-- author:wangshuai---date:20250821-for: 初始化Positiondata及新增departmentdata ---

-- Position default data
delete from sys_position;

INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958470823064436737', '5za8WqucKR', 'staff', 6, NULL, 'admin', '2025-08-21 18:06:46', NULL, NULL, 'A01A08', 0);
INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958470865577902082', 'hGAuYslALj', 'deputy minister', 5, NULL, 'admin', '2025-08-21 18:06:56', NULL, NULL, 'A01A08', 0);
INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958470912214368258', 'M0xkqpPsg7', 'minister', 4, NULL, 'admin', '2025-08-21 18:07:07', NULL, NULL, 'A01A08', 0);
INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958471030867034113', 'npEbkFq6Uw', 'deputy general manager', 3, NULL, 'admin', '2025-08-21 18:07:35', NULL, NULL, 'A01A08', 0);
INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958471074953363458', 'DEPMkWRJEu', 'General manager', 2, NULL, 'admin', '2025-08-21 18:07:46', NULL, NULL, 'A01A08', 0);
INSERT INTO `sys_position` (`id`, `code`, `name`, `post_level`, `company_id`, `create_by`, `create_time`, `update_by`, `update_time`, `sys_org_code`, `tenant_id`) VALUES ('1958471111989067778', 'gu7Rbffh0L', 'Chairman', 1, NULL, 'admin', '2025-08-21 18:07:54', NULL, NULL, 'A01A08', 0);

-- 新增departmentdata
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496243038556161', '', 'holding group', NULL, NULL, 0, NULL, '1', '1', 'A05', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:47:48', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496444470005762', '1958496243038556161', '投资holding group有限company', NULL, NULL, 0, NULL, '4', '2', 'A05A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:48:34', 'admin', '2025-08-21 19:49:57', 0, 0, NULL, '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496759810363394', '1958496243038556161', '城市运营管理集团有限company', NULL, NULL, 1, NULL, '4', '2', 'A05A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:49:49', 'admin', '2025-08-21 20:30:23', 0, 0, NULL, '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496836318662658', '1958496444470005762', 'leadership team', NULL, NULL, 0, NULL, '2', '3', 'A05A01A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:50:08', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496891561840641', '1958496444470005762', 'office', NULL, NULL, 2, NULL, '2', '3', 'A05A01A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:50:21', 'admin', '2025-08-21 19:50:36', 0, 0, NULL, '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958496943017562114', '1958496444470005762', '财务管理middle心', NULL, NULL, 3, NULL, '2', '3', 'A05A01A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:50:33', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958497020528300033', '1958496444470005762', 'Investment and Development Department', NULL, NULL, 4, NULL, '2', '3', 'A05A01A04', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:50:51', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958497164103520258', '1958496836318662658', 'Chairman', NULL, NULL, 0, NULL, '3', '4', 'A05A01A01A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:51:26', NULL, NULL, 0, 1, '1958471111989067778', '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958497256772472834', '1958496836318662658', 'Secretary of the Party Committee', NULL, NULL, 1, NULL, '3', '4', 'A05A01A01A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:51:48', 'admin', '2025-08-21 19:54:53', 0, 1, '1958471030867034113', '1958497164103520258');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958497591230468098', '1958496836318662658', '控股General manager', NULL, NULL, 3, NULL, '3', '4', 'A05A01A01A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:53:08', 'admin', '2025-08-21 19:54:42', 0, 1, '1958471074953363458', '1958497164103520258');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958497769387724802', '1958496836318662658', 'Secretary of the Discipline Inspection Commission', NULL, NULL, 4, NULL, '3', '4', 'A05A01A01A04', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:53:50', 'admin', '2025-08-21 19:54:06', 0, 1, '1958471030867034113', '1958497591230468098');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958498187287203841', '1958496891561840641', '控股officedirector', NULL, NULL, 1, NULL, '3', '4', 'A05A01A02A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:55:30', 'admin', '2025-08-21 19:55:50', 0, 1, '1958470912214368258', '1958497164103520258');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958498716927135745', '1958496891561840641', 'deputy director', NULL, NULL, 2, NULL, '3', '4', 'A05A01A02A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 19:57:36', 'admin', '2025-08-21 19:57:50', 0, 1, '1958470865577902082', '1958498187287203841');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958502219078733826', '1958496891561840641', 'staff', NULL, NULL, 3, NULL, '3', '4', 'A05A01A02A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:11:31', NULL, NULL, 0, 1, '1958470823064436737', '1958498187287203841');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958502381062754305', '1958496943017562114', 'director', NULL, NULL, 1, NULL, '3', '4', 'A05A01A03A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:12:10', 'admin', '2025-08-21 20:13:13', 0, 1, '1958470912214368258', '1958502611426512898');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958502611426512898', '1958496836318662658', '控股deputy general manager', NULL, NULL, 5, NULL, '3', '4', 'A05A01A01A05', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:13:04', 'admin', '2025-08-21 20:27:14', 0, 1, '1958471030867034113', '1958497591230468098');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958502810966331393', '1958496943017562114', 'deputy director', NULL, NULL, 2, NULL, '3', '4', 'A05A01A03A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:13:52', 'admin', '2025-08-21 20:14:40', 0, 1, '1958470865577902082', '1958502381062754305');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958502942289989634', '1958496943017562114', 'staff', NULL, NULL, 2, NULL, '3', '4', 'A05A01A03A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:14:23', 'admin', '2025-08-21 20:14:28', 0, 1, '1958470823064436737', '1958502810966331393');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958503159999533057', '1958497020528300033', 'minister', NULL, NULL, 1, NULL, '3', '4', 'A05A01A04A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:15:15', NULL, NULL, 0, 1, '1958470912214368258', '1958502611426512898');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958503409933914114', '1958497020528300033', 'deputy minister', NULL, NULL, 2, NULL, '3', '4', 'A05A01A04A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:16:15', NULL, NULL, 0, 1, '1958470865577902082', '1958503159999533057');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958503468805165058', '1958497020528300033', 'staff', NULL, NULL, 3, NULL, '3', '4', 'A05A01A04A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:16:29', NULL, NULL, 0, 1, '1958470823064436737', '1958503409933914114');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958507136782733313', '1958496759810363394', 'leadership team', NULL, NULL, 1, NULL, '2', '3', 'A05A02A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:31:03', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958507356253884418', '1958496759810363394', '信息技术发展有限company', NULL, NULL, 4, NULL, '4', '3', 'A05A02A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:31:56', 'admin', '2025-08-21 21:12:57', 0, 0, NULL, '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958507448138502146', '1958507136782733313', 'Chairman', NULL, NULL, 1, NULL, '3', '4', 'A05A02A01A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:32:18', 'admin', '2025-08-21 20:33:24', 0, 1, '1958471111989067778', '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958507542866857985', '1958507136782733313', 'deputy general manager', NULL, NULL, 3, NULL, '3', '4', 'A05A02A01A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:32:40', 'admin', '2025-08-21 20:33:26', 0, 1, '1958471030867034113', '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958507650828242946', '1958507136782733313', 'General manager', NULL, NULL, 2, NULL, '3', '4', 'A05A02A01A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 20:33:06', 'admin', '2025-08-21 20:33:20', 0, 1, '1958471074953363458', '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958518943542972418', '1958507356253884418', 'leadership team', NULL, NULL, 1, NULL, '2', '4', 'A05A02A03A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:17:58', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958519010207240193', '1958507356253884418', 'General Management Department', NULL, NULL, 2, NULL, '2', '4', 'A05A02A03A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:18:14', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958519045623943169', '1958507356253884418', 'Finance Department', NULL, NULL, 3, NULL, '2', '4', 'A05A02A03A03', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:18:23', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958519097058693121', '1958507356253884418', 'Software R&D Department', NULL, NULL, 4, NULL, '2', '4', 'A05A02A03A04', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:18:35', NULL, NULL, 0, 0, NULL, NULL);
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958520331257810945', '1958496891561840641', 'chief engineer', NULL, NULL, 2, NULL, '3', '4', 'A05A01A02A04', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:23:29', 'admin', '2025-08-21 21:23:52', 0, 1, '1958471030867034113', '1958497164103520258');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958520788395003906', '1958496759810363394', 'office', NULL, NULL, 2, NULL, '2', '3', 'A05A02A04', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:25:18', 'admin', '2025-08-21 21:26:51', 0, 0, NULL, '');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958520876810932225', '1958520788395003906', 'chief engineer', NULL, NULL, 1, NULL, '3', '4', 'A05A02A04A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:25:39', 'admin', '2025-08-21 21:26:25', 0, 1, '1958471030867034113', '1958507650828242946');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958521034948775937', '1958518943542972418', '执行董事兼General manager', NULL, NULL, 1, NULL, '3', '5', 'A05A02A03A01A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:26:17', NULL, NULL, 0, 1, '1958471111989067778', '1958520876810932225');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958521513564999681', '1958518943542972418', 'deputy general manager', NULL, NULL, 2, NULL, '3', '5', 'A05A02A03A01A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:28:11', NULL, NULL, 0, 1, '1958471030867034113', '1958521034948775937');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958521634549698561', '1958519010207240193', 'deputy minister', NULL, NULL, 1, NULL, '3', '5', 'A05A02A03A02A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:28:40', 'admin', '2025-08-21 21:30:15', 0, 1, '1958470865577902082', '1958521034948775937');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958523766002716674', '1958519010207240193', 'information archivist', NULL, NULL, 2, NULL, '3', '5', 'A05A02A03A02A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:37:08', NULL, NULL, 0, 1, '1958470823064436737', '1958521634549698561');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958524282631917570', '1958519045623943169', 'minister', NULL, NULL, 1, NULL, '3', '5', 'A05A02A03A03A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:39:11', NULL, NULL, 0, 1, '1958470912214368258', '1958521034948775937');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958524369311404033', '1958519045623943169', 'cashier', NULL, NULL, 2, NULL, '3', '5', 'A05A02A03A03A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:39:32', NULL, NULL, 0, 1, '1958470823064436737', '1958524282631917570');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958524471841165313', '1958519097058693121', 'project manager', NULL, NULL, 1, NULL, '3', '5', 'A05A02A03A04A01', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:39:56', NULL, NULL, 0, 1, '1958470912214368258', '1958521513564999681');
INSERT INTO `sys_depart` (`id`, `parent_id`, `depart_name`, `depart_name_en`, `depart_name_abbr`, `depart_order`, `description`, `org_category`, `org_type`, `org_code`, `mobile`, `fax`, `address`, `memo`, `status`, `del_flag`, `qywx_identifier`, `ding_identifier`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`, `iz_leaf`, `position_id`, `dep_post_parent_id`) VALUES ('1958524565596442626', '1958519097058693121', 'software engineer', NULL, NULL, 2, NULL, '3', '5', 'A05A02A03A04A02', NULL, NULL, NULL, NULL, NULL, '0', NULL, NULL, 'admin', '2025-08-21 21:40:19', NULL, NULL, 0, 1, '1958470823064436737', '1958524471841165313');


-- ---author:scott---date:20250824-----for: 修改department表FieldComment说明
ALTER TABLE `sys_depart`
    MODIFY COLUMN `org_type` varchar(10) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'tree depth levellevel' AFTER `org_category`;
    
-- --author:liusq---date:20250827-----for: Delete agent configuration menu
DELETE FROM sys_permission WHERE id = "1948648516302536706";
DELETE FROM sys_role_permission WHERE permission_id = "1948648516302536706";

-- ---author:scott---date:20250827-----for:[QQYUN-13516]有hour通过AIgenerateCV，parsejsonReport an error
UPDATE `airag_flow` SET `application_name` = 'jeecg', `name` = 'Example_AIgenerateonlineCV', `chain` = 'THEN(\n    start.tag(\'start-node\'),\n    llm.tag(\'215734195065536512\'),\n    enhanceJava.tag(\'215740280715427840\'),\n    end.tag(\'215735188368998400\')\n).tag(\"start-node\")', `design` = '{\"nodes\":[{\"id\":\"start-node\",\"type\":\"start\",\"x\":300,\"y\":404,\"properties\":{\"text\":\"start\",\"remarks\":\"\",\"options\":{},\"inputParams\":[{\"field\":\"content\",\"name\":\"Profile\",\"type\":\"string\",\"required\":true},{\"field\":\"history\",\"name\":\"History\",\"type\":\"string[]\",\"required\":false},{\"field\":\"profile\",\"name\":\"Basic information\",\"type\":\"string\",\"required\":true}],\"outputParams\":[],\"height\":92,\"width\":332}},{\"id\":\"215734195065536512\",\"type\":\"llm\",\"x\":739,\"y\":406,\"properties\":{\"text\":\"LLM\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"你mustOutput onlylegitimate且can be JSON.parse() correctly parsed JSON。\\nDo not output any explanation、comment or JSON text other than。\\n\\n\\nJSON structural rules：\\n- Each object represents a content block。\\n- Field description：\\n• \\\"type\\\"：Content type，Optional：\\\"title\\\"（title）、\\\"list\\\"（list）、\\\"separator\\\"（divider）、\\\"hyperlink\\\"（hyperlink）、\\\"pageBreak\\\"（Page break）、\\\"tab\\\"（tab character）、\\\"\\\"（normal text）、\\\"superscript\\\"（superscript）、\\\"subscript\\\"（subscript）、\\\"table\\\"（sheet）。\\n• \\\"level\\\"：title层级，onlywhen type for \\\"title\\\" used when，value：\\\"first\\\" ~ \\\"sixth\\\"。\\n• \\\"value\\\"：text、Image address、hyperlink等。\\n• \\\"valueList\\\"：array，used fortitle、list、hyperlink等，Array element support \\\"value\\\" and style fields。\\n• \\\"listType\\\"：listtype，value：\\\"ul\\\"（disorder）、\\\"ol\\\"（orderly）。\\n• \\\"listStyle\\\"：list样式，like \\\"disc\\\"、\\\"decimal\\\"、\\\"circle\\\"、\\\"square\\\"、\\\"checkbox\\\"。\\n• \\\"trList\\\"、\\\"colgroup\\\"：table row definition，onlyused for \\\"table\\\"。\\n• style field：\\\"font\\\"、\\\"size\\\"、\\\"bold\\\"、\\\"color\\\"、\\\"italic\\\"、\\\"highlight\\\"、\\\"underline\\\"、\\\"strikeout\\\"。\\n• \\\"dashArray\\\"：used for \\\"separator\\\"。\\n• otherstyle field：\\\"rowFlex\\\"（\\\"left\\\"、\\\"center\\\"、\\\"right\\\"、\\\"alignment\\\"）、\\\"backgroundColor\\\"、\\\"verticalAlign\\\"、\\\"textDecoration\\\"。\\n- when type = \\\"title\\\" hour，\\\"value\\\" Must be \\\"\\\\n\\\" ending。\\n- 主动换行请use `{ \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"\\\\n\\\" }`，不同There is no automatic line wrapping between objects。\\n- 所有键名andCharacter符串mustuse英文双引Number `\\\"`。\\n\\n\\noutputmust严gridyes JSON array，例like：\\n[\\n{\\n\\\"type\\\": \\\"title\\\",\\n\\\"level\\\": \\\"first\\\",\\n\\\"valueList\\\": [{ \\\"value\\\": \\\"主titleExample\\\\n\\\", \\\"font\\\": \\\"Microsoft Yahei\\\", \\\"size\\\": 26, \\\"bold\\\": true, \\\"rowFlex\\\": \\\"center\\\" }]\\n},\\n{ \\\"type\\\": \\\"\\\", \\\"value\\\": \\\"normal text内容Example\\\" },\\n{\\n\\\"type\\\": \\\"list\\\",\\n\\\"listType\\\": \\\"ul\\\",\\n\\\"listStyle\\\": \\\"disc\\\",\\n\\\"valueList\\\": [\\n{ \\\"value\\\": \\\"list项1\\\" },\\n{ \\\"value\\\": \\\"list项2\\\" }\\n]\\n}\\n]\\n\\n\\nExecution steps：\\n1. Generated according to user needsjsondata\\n2. Check the productionjsondatayesno正确。like果正常，output to user；no则重新generate。\"},{\"role\":\"user\",\"content\":\"请根据以上FieldandExample，generate一个完整的个人CV文档 JSON。\\n- 至少包ContainsBasic information、personal advantage、Work experience、project manager、Educational experience and other modules。\\n- If the basic data is insufficient，Reference data can be generated appropriately。\\n- user信息like下：\\nBasic information：{{base}}\\nIntroduction：{{profile}}\"}]},\"inputParams\":[{\"field\":\"profile\",\"name\":\"base\",\"nodeId\":\"start-node\"},{\"field\":\"content\",\"name\":\"profile\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"215735188368998400\",\"type\":\"end\",\"x\":1577,\"y\":354,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"height\":114,\"width\":332}},{\"id\":\"215740280715427840\",\"type\":\"enhanceJava\",\"x\":1156,\"y\":352,\"properties\":{\"text\":\"Java Enhance\",\"options\":{\"enhance\":{\"type\":\"spring\",\"path\":\"jeecgDemoAiWordGen\"}},\"inputParams\":[{\"field\":\"text\",\"name\":\"resp\",\"nodeId\":\"215734195065536512\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\"}],\"height\":180,\"width\":332}}],\"edges\":[{\"id\":\"215734195073925120\",\"type\":\"base-edge\",\"sourceNodeId\":\"start-node\",\"targetNodeId\":\"215734195065536512\",\"sourceAnchorId\":\"start-node_output\",\"targetAnchorId\":\"215734195065536512_input\",\"pointsList\":[{\"x\":466,\"y\":389},{\"x\":566,\"y\":389},{\"x\":473,\"y\":347},{\"x\":573,\"y\":347}]},{\"id\":\"215740280719622144\",\"type\":\"base-edge\",\"sourceNodeId\":\"215734195065536512\",\"targetNodeId\":\"215740280715427840\",\"sourceAnchorId\":\"215734195065536512_output\",\"targetAnchorId\":\"215740280715427840_input\",\"pointsList\":[{\"x\":905,\"y\":347},{\"x\":1005,\"y\":347},{\"x\":890,\"y\":293},{\"x\":990,\"y\":293}]},{\"id\":\"215740398487289856\",\"type\":\"base-edge\",\"sourceNodeId\":\"215740280715427840\",\"targetNodeId\":\"215735188368998400\",\"sourceAnchorId\":\"215740280715427840_output\",\"targetAnchorId\":\"215735188368998400_input\",\"pointsList\":[{\"x\":1322,\"y\":293},{\"x\":1422,\"y\":293},{\"x\":1311,\"y\":328},{\"x\":1411,\"y\":328}]}]}', `status` = 'enable', `metadata` = '{\"outputs\":[{\"field\":\"result\",\"name\":\"resp\",\"nodeId\":\"215740280715427840\"}],\"inputs\":[{\"field\":\"content\",\"name\":\"Profile\",\"required\":true,\"type\":\"string\"},{\"field\":\"history\",\"name\":\"History\",\"required\":false,\"type\":\"string[]\"},{\"field\":\"profile\",\"name\":\"Basic information\",\"required\":true,\"type\":\"string\"}]}' WHERE `id` = '1952634605517447170';

-- ---author:chenrui---date:20250828-----for:【QQYUN-13449】 AI加use辅助引导（Currently this function is available，Users won’t be able to use it either）
UPDATE `airag_flow` SET `chain` = 'THEN(\n    start.tag(\'start-node\'),\n    SWITCH(switch.tag(\'173365501230346240\')).to(\n        THEN(\n            llm.tag(\'172956395755208704\'),\n            end.tag(\'172957153284259840\')\n        ).tag(\"172956395755208704\"),\n        THEN(\n            llm.tag(\'173365800833675264\'),\n            end.tag(\'173366253646540800\')\n        ).tag(\"173365800833675264\"),\n        end.tag(\'173366439085109248\'),\n        THEN(\n            llm.tag(\'175149164433014784\'),\n            end.tag(\'175153953988444160\')\n        ).tag(\"175149164433014784\"),\n        THEN(\n            llm.tag(\'175505963485245440\'),\n            end.tag(\'175506006644633600\')\n        ).tag(\"175505963485245440\"),\n        THEN(\n            llm.tag(\'175807569594040320\'),\n            end.tag(\'175808663015538688\')\n        ).tag(\"175807569594040320\"),\n        THEN(\n            llm.tag(\'221504502491222016\'),\n            end.tag(\'221512800426758144\')\n        ).tag(\"221504502491222016\"),\n        THEN(\n            llm.tag(\'223992240450801664\'),\n            end.tag(\'223993058876952576\')\n        ).tag(\"223992240450801664\")\n    ).tag(\'173365501230346240\')\n).tag(\"start-node\")', `design` = '{\"nodes\":[{\"id\":\"start-node\",\"type\":\"start\",\"x\":262,\"y\":458,\"properties\":{\"text\":\"start\",\"remarks\":\"\",\"options\":{},\"inputParams\":[{\"field\":\"content\",\"name\":\"User issues\",\"type\":\"string\",\"required\":true},{\"field\":\"history\",\"name\":\"History\",\"type\":\"string[]\",\"required\":false},{\"field\":\"ddl\",\"name\":\"table structure\",\"type\":\"string\",\"required\":true},{\"field\":\"dbtype\",\"name\":\"data库type\",\"type\":\"string\",\"required\":true},{\"field\":\"bizType\",\"name\":\"Business type\",\"type\":\"string\",\"required\":true}],\"outputParams\":[],\"height\":92,\"width\":332}},{\"id\":\"172956395755208704\",\"type\":\"llm\",\"x\":1166,\"y\":160,\"properties\":{\"text\":\"generatesql\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"# Role：SQLgenerate助手\\n你yes一个专业的SQLstatementgenerate工具，能够根据user提供的describeandtable structure自动generate高效的SQLquery statement。\\n\\n## Target：\\n- 根据user的describegenerate准确的SQLquery statement。\\n\\n## Skill：\\n1. 理解user提供的needandtable structure。\\n2. Automatically build conformingSQLgrammar的query statement。\\n3. optimizationgenerate的SQLto improve execution efficiency。\\n\\n## Workflow：\\n1. 接收userdescribeandtable structure信息。\\n2. Analyze user needs，Determine what is neededSQLOperation type（like查询、insert、renew、delete）。\\n3. 根据分析结果generate相应的SQLstatement。\\n\\n## outputFormat：\\n- generate的SQLstatement应for标准Format，like：SELECT * FROM table_name ;\\n- will be outputSQLstatementFormat化\\n- Output onlysqlstatement，No extra explanation，don't wantmdgrammar，don't want换行符，don't want有sqlComment。\\n\\n## limit：\\n\\n- unless explicitly stated，no则don't wantgenerate查询条件\\n- Make sure to generateSQLstatement符合data库的grammarRequire，make suresqlCan be executed directly。\\n- make sureFieldand表能正确correspond。\"},{\"role\":\"user\",\"content\":\"table structure：\\n{{ddl}}\\n---------\\ndata库type：\\n{{dbtype}}\\n----------\\nneed：\\n{{question}}\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"},{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"},{\"field\":\"dbtype\",\"name\":\"dbtype\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"172957153284259840\",\"type\":\"end\",\"x\":1643,\"y\":129,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"sql\",\"nodeId\":\"172956395755208704\"}],\"height\":114,\"width\":332}},{\"id\":\"173365501230346240\",\"type\":\"switch\",\"x\":688,\"y\":575,\"properties\":{\"text\":\"conditional branch\",\"options\":{\"if\":[{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"genSql\"}],\"next\":\"172956395755208704\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"genJsonRows\"}],\"next\":\"173365800833675264\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"chooseTables\"}],\"next\":\"175149164433014784\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"genChart\"}],\"next\":\"175505963485245440\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"intentCheck\"}],\"next\":\"175807569594040320\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"designReport\"}],\"next\":\"221504502491222016\"},{\"logic\":\"AND\",\"conditions\":[{\"nodeId\":\"start-node\",\"field\":\"bizType\",\"operator\":\"EQUALS\",\"value\":\"genPrompt\"}],\"next\":\"223992240450801664\"}],\"else\":{\"next\":\"173366439085109248\"}},\"inputParams\":[],\"outputParams\":[{\"field\":\"index\",\"name\":\"branch index\",\"type\":\"number\"}],\"height\":274,\"width\":332}},{\"id\":\"173365800833675264\",\"type\":\"llm\",\"x\":1167,\"y\":368,\"properties\":{\"text\":\"generaterows\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"你yes一个 **“Online report JSON generate器”**，能够理解userdescribe及data集，并generate符合规范的 **legitimate JSON**。  \\n\\n\\n---\\n\\n\\n## Workflow程\\n\\n\\n### step one：data集选择  \\n1. 读取user提供的data集结构。  \\n2. 根据needfrommiddle选定一个data集。  \\n3. 后续只能use选定data集的Field。  \\n\\n\\n### Step 2：Report design  \\n根据userneed与data集，Output report structure information：  \\n- Line number、Column number（from0start）  \\n- cell content（文Character或data集占位符）  \\n- cell style（Reference style index）  \\n- Merge cell information  \\n\\n\\n### Step 3：generate报表 JSON  \\nuseStep 2的describegenerate完整 JSON。  \\n\\n\\n---\\n\\n\\n## Output requirements\\n1. **outputmustyeslegitimate JSON**，Can directly `JSON.parse()`。  \\n2. Must contain the following parts：  \\n   - `\\\"styles\\\"`：样式array，Each style is defined individually，在单元gridmiddle用indexQuote。  \\n   - `\\\"merges\\\"`：Merge cell range（like `\\\"D3:E4\\\"`）。  \\n   - `\\\"rows\\\"`：行data，Each line contains `cells`，each `cell` Is it possible：  \\n     - `\\\"text\\\"`：text or placeholder（`${}` object，`#{}` gather）  \\n     - `\\\"style\\\"`：Quote `styles` index  \\n     - `\\\"merge\\\"`：scope `[Number of vertical merge cells, Number of horizontal merge cells]`  \\n     - `\\\"height\\\"`：row height  \\n   - `\\\"cols\\\"`：Column width configuration  \\n\\n\\n---\\n\\n\\n## style rules\\n- style in `\\\"styles\\\"` middle定义：  \\n  - `font`：font\\n    - `bold`: yesno加粗（like：`true`）\\n    - `italic`: yesnoitalics（like：`true`）\\n    - `size`: fontsize单位pt,default10\\n  - `underline`: Underline（like：`true`）\\n  - `strike`: delete线（like：`true`）\\n  - `color`（fontcolor）  \\n  - `bgcolor`（background color）  \\n  - `align`（left/center/right）  \\n  - `valign`（top/middle/bottom）  \\n  - `textwrap`（Automatic line wrapping）  \\n  - `border`\\n    - `top`：top border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `bottom`：bottom border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `left`：left border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `right`：right border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n\\n\\n---\\n\\n\\n## data集规则\\nExample：\\n```json\\n{\\n  \\\"code\\\": \\\"a\\\",\\n  \\\"title\\\": \\\"a\\\",\\n  \\\"isList\\\": \\\"1\\\",\\n  \\\"children\\\": [\\n    { \\\"title\\\": \\\"total_sales\\\", \\\"fieldText\\\": \\\"total sales\\\" },\\n    { \\\"title\\\": \\\"total_returns\\\", \\\"fieldText\\\": \\\"Total returned quantity\\\" }\\n  ]\\n}\\n```\\n- `code`：data集变量名  \\n- `isList = 1`：gather  \\n- `isList = 0`：object  \\n- `children`：Field，Contains `title`（Field名）、`fieldText`（display name）  \\n\\n\\n---\\n\\n\\n## Rows, columns and filling rules\\n- Line number、Column numberfrom0start。  \\n- `\\\"cols\\\"` Set column width。  \\n- **gather (`isList=1`)**：  \\n  - 一行Fieldtitle（children.fieldText）  \\n  - 下一行Field占位符（`#{code.title}`）  \\n- **object (`isList=0`)**：  \\n  - 每Field占两列：左列fortitle，右列for占位符 `${code.title}`  \\n  - Can be arranged horizontally by group  \\n\\n\\n---\\n\\n\\n## merge rules\\n- `\\\"merge\\\": [Number of vertical merge cells, Number of horizontal merge cells]`  \\n  - Number of vertical merge cells与Number of horizontal merge cellsyes不包Containswhen前单元grid的数量（like Number of vertical merge cells equal1 就yes向下合并一行；Number of horizontal merge cells同理）\\n- Cells covered by the merge do not need to be defined again  \\n\\n\\n---\\n\\n\\n## Special instructions\\n- JSON must **pure**：noneComment、none markdown、none省略Number。  \\n- User-specified styles cannot be changed，Beautification can be done on this basis。\\n- Unless explicitly requested by the user，default都对generate的报表做基础美化（like增加frame、设置font、设置background color）\\n- The row and column serial numbers described by the user need to be **minus one** 转换forsubscript。  \\n- onlygenerate一份报表 JSON。  \\n\\n\\n---\\n\\n\\n## Example\\n```json\\n{\\n  \\\"styles\\\": [\\n    { \\\"font\\\": { \\\"bold\\\": true } },\\n    { \\\"color\\\": \\\"#ff0000\\\" }\\n  ],\\n  \\\"rows\\\": {\\n    \\\"0\\\": {\\n      \\\"cells\\\": {\\n        \\\"0\\\": { \\\"text\\\": \\\"bold text\\\", \\\"style\\\": 0 },\\n        \\\"1\\\": { \\\"text\\\": \\\"red text\\\", \\\"style\\\": 1 },\\n        \\\"2\\\": { \\\"text\\\": \\\"${dbKey.dbField}\\\", \\\"style\\\": 1 }\\n      }\\n    }\\n  },\\n  \\\"cols\\\": {\\n    \\\"1\\\": { \\\"width\\\": 100 }\\n  },\\n  \\\"merges\\\": [\\\"A1:B1\\\"]\\n}\\n```\\n\\n\"},{\"role\":\"user\",\"content\":\"userdata集：\\n{{ddl}}\\nuserneed：\\n{{question}}\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"},{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"173366253646540800\",\"type\":\"end\",\"x\":1643,\"y\":336,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"designJson\",\"nodeId\":\"173365800833675264\"}],\"height\":114,\"width\":332}},{\"id\":\"173366439085109248\",\"type\":\"end\",\"x\":1166,\"y\":1662,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":true,\"outputContent\":\"error:选择正确的Business type\"},\"inputParams\":[],\"outputParams\":[],\"height\":114,\"width\":332}},{\"id\":\"175149164433014784\",\"type\":\"llm\",\"x\":1164,\"y\":598,\"properties\":{\"text\":\"Select table\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":2,\"messages\":[{\"role\":\"system\",\"content\":\"## Task\\n根据userneed，from下方data库表listmiddle选择所有关联的table name称。\\n\\n\\n## data库表list（Format：table name | Comment）\\n{{ddl}}\\n\\n## Output rules\\n1. Strictly pressJSONarrayFormatoutput，例like：[\\\"order\\\"]。\\n2. only包Containstable name称，none需Comment。\\n3. **禁止添加list外的表**。\\n4. 表的选择范围可以适when大一些。\\n4. none业务相关性houroutput空array：[]\\n\\n\\nPlease reply pureJSON，don't want包Containsother内容。\"},{\"role\":\"user\",\"content\":\"userneed：{{question}}\"}]},\"inputParams\":[{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"},{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"175153953988444160\",\"type\":\"end\",\"x\":1643,\"y\":564,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"tables\",\"nodeId\":\"175149164433014784\"}],\"height\":114,\"width\":332}},{\"id\":\"175505963485245440\",\"type\":\"llm\",\"x\":1166,\"y\":802,\"properties\":{\"text\":\"generate图表\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"根据以下data以及userneedgenerate符合FormatRequire的图表data。\\n\\n\\n## Workflow程：\\n\\n\\n1. 根据userneed选择一个合适的data集\\n2. 根据data集andneed，from图表listmiddle选择一个合适的图标type。\\n3. Assembling the final outputjson\\n\\n\\n⸻\\n## Optional的图表like下（logo|describe）：\\n\\n\\n- 1Dimensional chart\\n  - bar.simple|Ordinary column chart\\n  - bar.background|Column chart with background\\n  - bar.horizontal|horizontal column chart\\n  - line.simple|Ordinary line chart\\n  - line.area|Area stacked line chart\\n  - line.smooth|Smooth Curve Line Chart\\n  - line.step|Stepped Line Chart\\n  - pie.simple|Ordinary pie chart\\n  - pie.doughnut|donut pie chart\\n  - pie.rose|Nightingale Rose Pie Chart\\n  - scatter.simple|Ordinary scatter plot\\n  - funnel.simple|Ordinary funnel chart\\n  - funnel.pyramid|Pyramid Funnel Chart\\n  - pictorial.spirits|common pictogram\\n  - map.scatter|click map\\n  - gauge.simple|360°Dashboard\\n  - gauge.simple180|180°Dashboard\\n- 2dimension\\n  - bar.multi|多data对比柱形图\\n  - bar.negative|Positive and negative bar graph\\n  - bar.stack|stacked column chart\\n  - bar.stack.horizontal|stacked bar chart\\n  - bar.multi.horizontal|多data条形柱状图\\n  - line.multi|多data对比折线图\\n  - mixed.linebar|Ordinary column chart\\n  - scatter.bubble|bubble scatter plot\\n  - radar.basic|Ordinary radar chart\\n  - radar.custom|circular radar chart\\n⸻\\n## data集Format说明：\\n```\\n{\\n \\\"dbId\\\": \\\"1069915169263800320\\\",\\n \\\"code\\\": \\\"a\\\",\\n \\\"title\\\": \\\"a\\\",\\n \\\"isList\\\": \\\"1\\\",\\n \\\"type\\\": \\\"0\\\",\\n \\\"children\\\": [\\n  {\\n   \\\"title\\\": \\\"total_sales\\\",\\n   \\\"fieldText\\\": \\\"total_sales\\\"\\n  },\\n  {\\n   \\\"title\\\": \\\"total_returns\\\",\\n   \\\"fieldText\\\": \\\"total_returns\\\"\\n  }\\n ]\\n}\\n```\\n* code：data集变量名\\n* isList：for”1”表示gather，“0”表示object\\n* children：forFieldlist，包Containstitle（Field名）andfieldText（display name）\\n* type：0|sql,1|api,2|code,3|json\\n⸻\\n## outputjsonFormat\\n{\\n  \\\"dataType\\\": \\\"sql\\\",\\n  \\\"apiStatus\\\": \\\"0\\\",\\n  \\\"apiUrl\\\": \\\"\\\",\\n  \\\"dataId\\\": \\\"1069898455939633152\\\",\\n  \\\"axisX\\\": \\\"supplier_name\\\",\\n  \\\"axisY\\\": \\\"total_returns\\\",\\n  \\\"series\\\": \\\"material_name\\\",\\n  \\\"yText\\\": \\\"total_returns\\\",\\n  \\\"xText\\\": \\\"supplier_name\\\",\\n  \\\"dbCode\\\": \\\"a\\\",\\n  \\\"isCustomPropName\\\": false,\\n  \\\"chartType\\\": \\\"line.multi\\\",\\n  \\\"id\\\": \\\"0aGl4PUfbIfy8BMF\\\",\\n  \\\"run\\\": 1,\\n  \\\"title\\\": \\\"\\\",\\n}\\n* dataType：与data集typecorrespond(0|sql,1|api,2|code,3|json)\\n* dataId：corresponddata集dbId\\n* dbCode：corresponddata集的code\\n* axisX：Classification attributes，fromdata集Fieldmiddlevalue（fieldText)\\n* axisY：value attribute，fromdata集Fieldmiddlevalue（fieldText)\\n* series: series，fromdata集Fieldmiddlevalue（fieldText）\\n* xText：Classification attributes显示，fromdata集Fieldmiddlevalue（title)\\n* yText：value attribute显示，fromdata集Fieldmiddlevalue（title)\\n* chartType：图表的logo\\n* title：for这个图表起一个title\\n* isCustomPropName: like果yesapidata集,该值fortrue\\n* apiStatus: like果yesapidata集则equal\\\"1\\\"，no则\\\"0\\\"\\n\\n\\n## outputFormat\\n* Return directlyJSONdata，don't want解释，don't wantmdgrammar，don't want换行符，don't want有Comment。\\n* make sureoutput的jsonFormat正确完整。\"},{\"role\":\"user\",\"content\":\"## userdata集：\\n{{ddl}}\\n## userneed：\\n{{question}}\"}]},\"inputParams\":[{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"},{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"175506006644633600\",\"type\":\"end\",\"x\":1643,\"y\":769,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"chart\",\"nodeId\":\"175505963485245440\"}],\"height\":114,\"width\":332}},{\"id\":\"175807569594040320\",\"type\":\"llm\",\"x\":1166,\"y\":1018,\"properties\":{\"text\":\"Intent recognition\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"你yes一个“Online report的need分析器”，能够理解user的need输入，\\n\\n请根据userneed与提供的data集design，综合判断应执行的Workflow步骤，并foreach步骤调整needdescribe，同hour选择最合适的data集。  \\n\\n\\n\\n\\n## Optional步骤（Format：logo | Function description）\\n\\n- `genJsonRows` | generate报表（Optional，根据user的needdescribeanddata集designgenerate合适的Report design）\\n\\n- `genChart` | generate图表（Optional，根据user的needdescribeanddata集designgenerate合适的图表data）\\n\\n> **Notice：** Select at least one step，亦可同hour选择两者；Charts have lower weight。\\n\\n\\n\\n\\n## data集Format\\n\\n```\\n\\n{\\n\\n\\\"dbId\\\": \\\"1069915169263800320\\\",\\n\\n\\\"code\\\": \\\"a\\\",\\n\\n\\\"title\\\": \\\"a\\\",\\n\\n\\\"isList\\\": \\\"1\\\",\\n\\n\\\"type\\\": \\\"0\\\",\\n\\n\\\"children\\\": [\\n\\n{\\n\\n\\\"title\\\": \\\"total_sales\\\",\\n\\n\\\"fieldText\\\": \\\"total_sales\\\"\\n\\n},\\n\\n{\\n\\n\\\"title\\\": \\\"total_returns\\\",\\n\\n\\\"fieldText\\\": \\\"total_returns\\\"\\n\\n}\\n\\n]\\n\\n}\\n\\n```\\n\\n* `code`：data集变量名\\n\\n* `isList`：for”1”表示gather，“0”表示object\\n\\n* `children`：forFieldlist，包Containstitle（display name）andfieldText（Field名）\\n\\n* `type`：0|sql,1|api,2|code,3|json\\n\\n\\n\\n\\n## outputFormat\\n\\n步骤logo1|needdescribe1|data集code,步骤logo2|needdescribe2|data集code  \\n\\n* Use commas between steps,separate  \\n\\n* No additional description is allowed，don't wantmdgrammar，don't want换行符，don't want有Comment。\\n\\n\\n\\n\\n## Notice：\\n\\n- 在generateneeddescribehour，应make sure不丢失原有need的全部内容，只yes并针对所选步骤微调。\\n\\n\\n\"},{\"role\":\"user\",\"content\":\"## userdata集：\\n{{ddl}}\\n## userneed：\\n{{question}}\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"},{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"175808663015538688\",\"type\":\"end\",\"x\":1643,\"y\":985,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"intent\",\"nodeId\":\"175807569594040320\"}],\"height\":114,\"width\":332}},{\"id\":\"221504502491222016\",\"type\":\"llm\",\"x\":1166,\"y\":1237,\"properties\":{\"text\":\"generateexceldesign\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"你yes一个“onlineExcel JSONgenerate器”，能够理解userdescribe并generate符合规范的 JSON。  \\n**strict rules**：\\n1. 只能根据describegenerate JSON。\\n2. JSON mustlegitimate，can be `JSON.parse()` 正确parse。\\n3. JSON middle不可以有Comment\\n\\n\\n\\n\\n---\\n\\n\\n\\n\\n## step one：理解user的describe，并generate单元griddescribe信息\\n   - Line number、Column number\\n   - cell text\\n   - cell style（font加粗、italics、size、color、background color、level/vertical alignment、Automatic line wrapping、frame）\\n   - Merge cell information\\n\\n\\n\\n\\n⸻\\n\\n\\n\\n\\n## Step 2：usestep one种generate的describe信息，generate完整onlineExcel JSON\\n### Output requirements\\n- outputmustyes **legitimate JSON**，且Can directly被 `JSON.parse()` 正确parse。  \\n- JSON 的结构Must contain the following parts：  \\n  - `\\\"styles\\\"`：样式array，each元素correspond一种样式（likefont加粗、fontcolor、frame等），and pass in the cell `style` FieldQuote  \\n  - `\\\"merges\\\"`：Merge range of cells（like `\\\"D3:E4\\\"`）  \\n  - `\\\"rows\\\"`：行data，每一行包Contains `cells`，each `cell` 可包Contains：\\n    - `\\\"text\\\"`：cell text  \\n    - `\\\"style\\\"`：Quote `styles` arraymiddle的subscript  \\n    - `\\\"merge\\\"`：若for合并单元grid，标注scope Example[1,2]:subscript[0]vertical merger1grid,subscript[1]horizontal merger2grid，\\n    - `\\\"height\\\"`：row height  \\n    - `\\\"width\\\"`：column width（put on `\\\"cols\\\"` part）  \\n  - `\\\"cols\\\"`：Column width configuration  \\n\\n\\n\\n\\n### style rules\\n- style in `\\\"styles\\\"` middle定义：  \\n  - `font`：font\\n    - `bold`: yesno加粗（like：`true`）\\n    - `italic`: yesnoitalics（like：`true`）\\n    - `size`: fontsize单位pt,default10\\n  - `underline`: Underline（like：`true`）\\n  - `strike`: delete线（like：`true`）\\n  - `color`（fontcolor）  \\n  - `bgcolor`（background color）  \\n  - `align`（left/center/right）  \\n  - `valign`（top/middle/bottom）  \\n  - `textwrap`（Automatic line wrapping）  \\n  - `border`\\n    - `top`：top border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `bottom`：bottom border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `left`：left border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n    - `right`：right border（like `[\\\"thin\\\",\\\"#000\\\"]`）  \\n\\n\\n\\n\\n### Row and column rules\\n- `\\\"rows\\\"` middle的 key yesLine number（from 0 start）  \\n- `\\\"cells\\\"` middle的 key yesColumn number（from 0 start）  \\n- Specifiable `\\\"height\\\"` 设置row height  \\n- `\\\"cols\\\"` middle的 key yesColumn number，值包Contains `\\\"width\\\"` Set column width  \\n\\n\\n\\n\\n## merge rules\\n- `\\\"merge\\\": [Number of vertical merge cells, Number of horizontal merge cells]`  \\n  - Number of vertical merge cells与Number of horizontal merge cellsyes不包Containswhen前单元grid的数量（like Number of vertical merge cells equal1 就yes向下合并一行；Number of horizontal merge cells同理）\\n- Cells covered by the merge do not need to be defined again  \\n\\n\\n\\n\\n## Example\\n（简化Example）\\n\\n\\n\\n\\n```json\\n{\\n  \\\"styles\\\": [\\n    { \\\"font\\\": { \\\"bold\\\": true } },\\n    { \\\"color\\\": \\\"#ff0000\\\" }\\n  ],\\n  \\\"rows\\\": {\\n    \\\"0\\\": {\\n      \\\"cells\\\": {\\n        \\\"0\\\": { \\\"text\\\": \\\"bold text\\\", \\\"style\\\": 0 },\\n        \\\"1\\\": { \\\"text\\\": \\\"red text\\\", \\\"style\\\": 1 }\\n      }\\n    }\\n  },\\n  \\\"cols\\\": {\\n    \\\"1\\\": { \\\"width\\\": 100 }\\n  },\\n  \\\"merges\\\": [\\\"A1:B1\\\"],\\n}\\n\\n\\n\\n\\n## Special instructions\\n- JSON must **pure**：noneComment、none markdown、none省略Number。  \\n- User-specified styles cannot be changed，Beautification can be done on this basis。\\n- Unless explicitly requested by the user，default都对generate的报表做基础美化（like增加frame、设置font、设置background color）\\n- The row and column serial numbers described by the user need to be **minus one** 转换forsubscript。  \\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\"},{\"role\":\"user\",\"content\":\"理解userneed，并按Requiregeneratejsondata。\\nuserneedlike下：\\n{{question}}\\n\\n\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"221512800426758144\",\"type\":\"end\",\"x\":1643,\"y\":1201,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"designJson\",\"nodeId\":\"221504502491222016\"}],\"height\":114,\"width\":332}},{\"id\":\"223992240450801664\",\"type\":\"llm\",\"x\":1166,\"y\":1441,\"properties\":{\"text\":\"提示词generate\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":0.7}},\"history\":3,\"messages\":[{\"role\":\"system\",\"content\":\"# 报表generate提示词optimization器\\n\\n\\n## Target\\n\\n\\n根据user输入的needanddata集定义，自动generate简洁、explicit user message。\\n系统会自动带上data集定义，因此none需包Containsdata集定义内容。\\n\\n\\n## Workflow程\\n\\n\\n### step one：理解need与data集\\n\\n\\n- fromuser的自然语言needanddata集定义middle，extract**Business direction**。\\n- Business directionExample：\\n    - 个人CV\\n    - Project quotation\\n    - data统计\\n    - financial statements\\n    - product list\\n\\n\\n### Step 2：Extended prompt words\\n\\n\\n- 针对识别出的Business direction，Extended prompt words，Make it more relevant to business scenarios。\\n- Example：\\n    like果userneedyes\\\"generate一份个人CV\\\"，则Extended prompt wordsfor：\\n    \\\"请基于data集generate个人CV模版，Highlight educational background、Work experienceandSkill展示。\\\"\\n\\n\\n### Step 3：generateuser message\\n\\n\\n- output最终的user message，不包Contains系统提示词，不包Containsdata集定义。\\n- Require：\\n    - 保留userneed的原意。\\n    - optimization表达，make AI 更好地理解并执行Task。\\n    - 根据Business direction，Attach necessary template descriptions。\\n    - 提示词结构最好包Contains：\\n        - 主要need：user的主要need，比like：generate一个used for软件产品的报价表。\\n        - 结构Require：对于generate的内容的Require\\n        - 样式Require：对样式的整体and细节的Require，比like：The overall layout is beautiful、titleuse16Hao Zi。\\n\\n\\n#### outputExample：\\n\\n\\n```\\ngenerate一个 **staffsalary报表**，Requirelike下：  \\n\\n\\n1. **data内容**  \\n   - The report needs to display the following information：staff姓名、gender、Birthday、Contact number、salary。  \\n\\n\\n2. **样式Require**  \\n   - 添加一个醒目的报表title，font16Number。  \\n   - title行use蓝色背景，并且font加粗。  \\n   - data行保持清晰整齐，Easy to read。  \\n\\n\\n3. **Output requirements**  \\n   - sheet内容规范，Beautiful layout，符合staffsalary报表的Format。 \\n```\\n\\n\\n\\n\\n## Output requirements\\n\\n\\n- 最终outputfor简洁明了的user message。\\n- 不限定关键词andField，完全根据needanddata集定义generate。\\n- control length，don't want超过500Character。\\n\\n\"},{\"role\":\"user\",\"content\":\"userneed：\\n{{question}}\\ndata集定义\\n{{ddl}}\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"},{\"field\":\"ddl\",\"name\":\"ddl\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"223993058876952576\",\"type\":\"end\",\"x\":1652,\"y\":1408,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":false,\"outputContent\":\"\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"text\",\"name\":\"prompt\",\"nodeId\":\"223992240450801664\"}],\"height\":114,\"width\":332}}],\"edges\":[{\"id\":\"172957153288454144\",\"type\":\"base-edge\",\"sourceNodeId\":\"172956395755208704\",\"targetNodeId\":\"172957153284259840\",\"sourceAnchorId\":\"172956395755208704_output\",\"targetAnchorId\":\"172957153284259840_input\",\"pointsList\":[{\"x\":1332,\"y\":101},{\"x\":1432,\"y\":101},{\"x\":1377,\"y\":103},{\"x\":1477,\"y\":103}]},{\"id\":\"173365501234540544\",\"type\":\"base-edge\",\"sourceNodeId\":\"start-node\",\"targetNodeId\":\"173365501230346240\",\"sourceAnchorId\":\"start-node_output\",\"targetAnchorId\":\"173365501230346240_input\",\"pointsList\":[{\"x\":428,\"y\":443},{\"x\":528,\"y\":443},{\"x\":422,\"y\":469},{\"x\":522,\"y\":469}]},{\"id\":\"173366253650735104\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365800833675264\",\"targetNodeId\":\"173366253646540800\",\"sourceAnchorId\":\"173365800833675264_output\",\"targetAnchorId\":\"173366253646540800_input\",\"pointsList\":[{\"x\":1333,\"y\":309},{\"x\":1433,\"y\":309},{\"x\":1377,\"y\":310},{\"x\":1477,\"y\":310}]},{\"id\":\"173372961415852032\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"172956395755208704\",\"sourceAnchorId\":\"173365501230346240_source_if\",\"targetAnchorId\":\"172956395755208704_input\",\"pointsList\":[{\"x\":854,\"y\":503},{\"x\":954,\"y\":503},{\"x\":900,\"y\":101},{\"x\":1000,\"y\":101}]},{\"id\":\"173372967073968128\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"173365800833675264\",\"sourceAnchorId\":\"173365501230346240_case_2\",\"targetAnchorId\":\"173365800833675264_input\",\"pointsList\":[{\"x\":854,\"y\":529},{\"x\":954,\"y\":529},{\"x\":901,\"y\":309},{\"x\":1001,\"y\":309}]},{\"id\":\"173372974988619776\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"173366439085109248\",\"sourceAnchorId\":\"173365501230346240_source_else\",\"targetAnchorId\":\"173366439085109248_input\",\"pointsList\":[{\"x\":854,\"y\":685},{\"x\":954,\"y\":685},{\"x\":900,\"y\":1636},{\"x\":1000,\"y\":1636}]},{\"id\":\"175149164437209088\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"175149164433014784\",\"sourceAnchorId\":\"173365501230346240_case_3\",\"targetAnchorId\":\"175149164433014784_input\",\"pointsList\":[{\"x\":854,\"y\":555},{\"x\":954,\"y\":555},{\"x\":898,\"y\":539},{\"x\":998,\"y\":539}]},{\"id\":\"175153997969915904\",\"type\":\"base-edge\",\"sourceNodeId\":\"175149164433014784\",\"targetNodeId\":\"175153953988444160\",\"sourceAnchorId\":\"175149164433014784_output\",\"targetAnchorId\":\"175153953988444160_input\",\"pointsList\":[{\"x\":1330,\"y\":539},{\"x\":1430,\"y\":539},{\"x\":1377,\"y\":538},{\"x\":1477,\"y\":538}]},{\"id\":\"175505963489439744\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"175505963485245440\",\"sourceAnchorId\":\"173365501230346240_case_4\",\"targetAnchorId\":\"175505963485245440_input\",\"pointsList\":[{\"x\":854,\"y\":581},{\"x\":954,\"y\":581},{\"x\":900,\"y\":743},{\"x\":1000,\"y\":743}]},{\"id\":\"175506006648827904\",\"type\":\"base-edge\",\"sourceNodeId\":\"175505963485245440\",\"targetNodeId\":\"175506006644633600\",\"sourceAnchorId\":\"175505963485245440_output\",\"targetAnchorId\":\"175506006644633600_input\",\"pointsList\":[{\"x\":1332,\"y\":743},{\"x\":1432,\"y\":743},{\"x\":1377,\"y\":743},{\"x\":1477,\"y\":743}]},{\"id\":\"175807569598234624\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"175807569594040320\",\"sourceAnchorId\":\"173365501230346240_case_5\",\"targetAnchorId\":\"175807569594040320_input\",\"pointsList\":[{\"x\":854,\"y\":607},{\"x\":954,\"y\":607},{\"x\":900,\"y\":959},{\"x\":1000,\"y\":959}]},{\"id\":\"175808663019732992\",\"type\":\"base-edge\",\"sourceNodeId\":\"175807569594040320\",\"targetNodeId\":\"175808663015538688\",\"sourceAnchorId\":\"175807569594040320_output\",\"targetAnchorId\":\"175808663015538688_input\",\"pointsList\":[{\"x\":1332,\"y\":959},{\"x\":1432,\"y\":959},{\"x\":1377,\"y\":959},{\"x\":1477,\"y\":959}]},{\"id\":\"221512800426758145\",\"type\":\"base-edge\",\"sourceNodeId\":\"221504502491222016\",\"targetNodeId\":\"221512800426758144\",\"sourceAnchorId\":\"221504502491222016_output\",\"targetAnchorId\":\"221512800426758144_input\",\"pointsList\":[{\"x\":1332,\"y\":1178},{\"x\":1432,\"y\":1178},{\"x\":1377,\"y\":1175},{\"x\":1477,\"y\":1175}]},{\"id\":\"221534054756093952\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"221504502491222016\",\"sourceAnchorId\":\"173365501230346240_case_6\",\"targetAnchorId\":\"221504502491222016_input\",\"pointsList\":[{\"x\":854,\"y\":633},{\"x\":954,\"y\":633},{\"x\":900,\"y\":1178},{\"x\":1000,\"y\":1178}]},{\"id\":\"223992240454995968\",\"type\":\"base-edge\",\"sourceNodeId\":\"173365501230346240\",\"targetNodeId\":\"223992240450801664\",\"sourceAnchorId\":\"173365501230346240_case_7\",\"targetAnchorId\":\"223992240450801664_input\",\"pointsList\":[{\"x\":854,\"y\":659},{\"x\":954,\"y\":659},{\"x\":900,\"y\":1382},{\"x\":1000,\"y\":1382}]},{\"id\":\"223993058881146880\",\"type\":\"base-edge\",\"sourceNodeId\":\"223992240450801664\",\"targetNodeId\":\"223993058876952576\",\"sourceAnchorId\":\"223992240450801664_output\",\"targetAnchorId\":\"223993058876952576_input\",\"pointsList\":[{\"x\":1332,\"y\":1382},{\"x\":1432,\"y\":1382},{\"x\":1386,\"y\":1382},{\"x\":1486,\"y\":1382}]}]}', `status` = 'enable', `metadata` = '{\"outputs\":[{\"field\":\"text\",\"name\":\"prompt\",\"nodeId\":\"223992240450801664\"},{\"field\":\"outputText\",\"type\":\"string\"}],\"inputs\":[{\"field\":\"content\",\"name\":\"User issues\",\"required\":true,\"type\":\"string\"},{\"field\":\"history\",\"name\":\"History\",\"required\":false,\"type\":\"string[]\"},{\"field\":\"ddl\",\"name\":\"table structure\",\"required\":true,\"type\":\"string\"},{\"field\":\"dbtype\",\"name\":\"data库type\",\"required\":true,\"type\":\"string\"},{\"field\":\"bizType\",\"name\":\"Business type\",\"required\":true,\"type\":\"string\"}]}' WHERE `id` = '1909856345692065793';

-- ---author:wangshuai---date:20250902-----for:【QQYUN-13415】Tenant Renovation Menu、Menu permissions及Tenant AdministratorRole升级sql
-- Add user button permission upgradesql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1214462306546319322', '119213522910765570', 'Add new user', '', '', 1, NULL, NULL, 2, 'system:user:addTenantUser', '1', 1.00, 0, NULL, 1, 0, 0, NULL, NULL, 'admin', '2020-01-07 16:22:32', NULL, NULL, 0, 0, '1', 0);

-- deleteuser按钮权限
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592114574275211345', '119213522910765570', 'deleteuser', NULL, NULL, 0, NULL, NULL, 2, 'system:user:delete', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:17:49', NULL, NULL, 0, 0, '1', 0);

-- 新增租户department菜单升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1961009998209257473', '1674708136602542082', '租户department', '/depart/TenantDepartList', 'system/depart/TenantDepartList', 1, '', NULL, 1, NULL, '0', 3.30, 0, 'ant-design:apartment-outlined', 1, 0, 0, 0, NULL, 'admin', '2025-08-28 18:16:32', 'admin', '2025-08-29 10:20:25', 0, 0, NULL, 0);

-- 添加一个userand多个套餐关系按钮权限
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1960994076329316353', '119213522910765570', '添加一个userand多个套餐关系', NULL, NULL, 0, NULL, NULL, 2, 'system:tenant:addPacksUser', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2025-08-28 17:13:16', NULL, NULL, 0, 0, '1', 0);

-- New tenant package menu upgradesql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1961253156897710081', '1674708136602542082', 'Tenant package', '/pack/TenantCurrentPackList', 'system/tenant/pack/TenantCurrentPackList', 1, '', NULL, 1, NULL, '0', 3.40, 0, 'ant-design:read-filled', 1, 0, 0, 0, NULL, 'admin', '2025-08-29 10:22:46', 'admin', '2025-08-29 10:24:46', 0, 0, NULL, 0);

-- 产品包查询list权限升级菜单
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1609123240547344376', '1961253156897710081', '产品包分页list查询', NULL, NULL, 0, NULL, NULL, 2, 'system:tenant:packList', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-12-31 17:44:11', NULL, NULL, 0, 0, '1', 0);

-- my tenants变更for叶子节点
UPDATE `sys_permission` SET  `is_leaf` = 0 WHERE `id` = '1961253156897710081';

-- Query user button permission upgrade under tenantsql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1600108123037913486', '1961253156897710081', 'Query users under a tenant', NULL, NULL, 0, NULL, NULL, 2, 'system:tenant:user:list', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-12-06 20:41:20', 'admin', '2023-01-11 12:10:48', 0, 0, '1', 0);

-- Invite people to join
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1600105607009162230', '1961253156897710081', 'Invite users', NULL, NULL, 0, NULL, NULL, 2, 'system:tenant:invitation:user', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-12-06 20:31:20', NULL, NULL, 0, 0, '1', 0);

-- 租户Role设置成非叶子节点
UPDATE `sys_permission` SET `is_leaf` = 0 WHERE `id` = '1597419994965786625';

-- Role编辑按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592120372296522490', '1597419994965786625', 'Role编辑', NULL, NULL, 0, NULL, NULL, 2, 'system:role:edit', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:40:52', NULL, NULL, 0, 0, '1', 0);

-- Role添加按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592120323667750934', '1597419994965786625', 'Role添加', NULL, NULL, 0, NULL, NULL, 2, 'system:role:add', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:40:40', NULL, NULL, 0, 0, '1', 0);

-- Roledelete按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592120427223412865', '1597419994965786625', 'Roledelete', NULL, NULL, 0, NULL, NULL, 2, 'system:role:delete', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:41:05', NULL, NULL, 0, 0, '1', 0);

-- Role添加已有user按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592102143467200514', '1597419994965786625', '给指定Role添加user', NULL, NULL, 0, NULL, NULL, 2, 'system:user:addUserRole', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:18:49', NULL, NULL, 0, 0, '1', 0);

-- Roledelete已有user按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592114893302823614', '1597419994965786625', 'delete指定Role的user关系', NULL, NULL, 0, NULL, NULL, 2, 'system:user:deleteRole', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:19:05', NULL, NULL, 0, 0, '1', 0);

-- Role批量delete已有user按钮权限升级sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592114955650691174', '1597419994965786625', '批量delete指定Role的user关系', NULL, NULL, 0, NULL, NULL, 2, 'system:user:deleteRoleBatch', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:19:20', NULL, NULL, 0, 0, '1', 0);

-- 租户department设置成非叶子节点
UPDATE `sys_permission` SET `is_leaf` = 0 WHERE `id` = '1961009998209257473';

-- 添加department按钮权限sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592115712422330529', '1961009998209257473', 'department添加', NULL, NULL, 0, NULL, NULL, 2, 'system:depart:add', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:22:21', 'admin', '2022-11-14 19:30:49', 0, 0, '1', 0);

-- 编辑department按钮权限sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592117222764277032', '1961009998209257473', 'department编辑', NULL, NULL, 0, NULL, NULL, 2, 'system:depart:edit', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:28:21', 'admin', '2022-11-14 19:30:55', 0, 0, '1', 0);

-- delete、批量deletedepartment按钮权限sql
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592117276539449346', '1961009998209257473', 'departmentdelete', NULL, NULL, 0, NULL, NULL, 2, 'system:depart:delete', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:28:33', 'admin', '2022-11-14 19:31:06', 0, 0, '1', 0);
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1592117377299214338', '1961009998209257473', 'department批量delete', NULL, NULL, 0, NULL, NULL, 2, 'system:depart:deleteBatch', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-11-14 19:28:58', 'admin', '2022-11-14 19:31:12', 0, 0, '1', 0);

-- Tenant AdministratorRole升级sql
INSERT INTO `sys_role` (`id`, `role_name`, `role_code`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `tenant_id`) VALUES ('1962488045068464130', 'Tenant Administrator', 'zuhuadmin', NULL, 'admin', '2025-09-01 20:09:46', NULL, NULL, 0);

-- Tenant AdministratorMenu permissions
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962489414454194178', '1962488045068464130', '1609123240547344385', NULL, '2025-09-01 20:15:12', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251539722241', '1962488045068464130', '1674708136602542082', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251548110850', '1962488045068464130', '1663816667704500225', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251552305154', '1962488045068464130', '119213522910765570', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251552305155', '1962488045068464130', '1592114574275211345', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251560693762', '1962488045068464130', '1960994076329316353', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251560693763', '1962488045068464130', '1214462306546319322', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251560693764', '1962488045068464130', '1597419994965786625', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251560693765', '1962488045068464130', '1592102143467200514', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251569082370', '1962488045068464130', '1592114893302823614', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251569082371', '1962488045068464130', '1592120323667750934', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251569082372', '1962488045068464130', '1592120372296522490', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251569082373', '1962488045068464130', '1592120427223412865', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251573276674', '1962488045068464130', '1961009998209257473', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251573276675', '1962488045068464130', '1592115712422330529', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251573276676', '1962488045068464130', '1592117222764277032', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251573276677', '1962488045068464130', '1592117276539449346', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251581665281', '1962488045068464130', '1592117377299214338', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251581665282', '1962488045068464130', '1961253156897710081', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251585859586', '1962488045068464130', '1600105607009162230', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251585859587', '1962488045068464130', '1600108123037913486', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962765251585859588', '1962488045068464130', '1609123240547344376', NULL, '2025-09-02 14:31:17', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1962766200899461121', '1962488045068464130', '1592114955650691174', NULL, '2025-09-02 14:35:03', '192.168.1.6');

-- ---author:liusq---date:20250902-----for:修改default首页的关联type
UPDATE sys_role_index SET `relation_type` = 'DEFAULT' WHERE `role_code` = 'DEF_INDEX_ALL';

-- ---author:liusq---date:20250902-----for:关联typeCharacter典增加defaulttype
INSERT INTO `sys_dict_item`(`id`, `dict_id`, `item_text`, `item_value`, `item_color`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`) VALUES ('1963079150651305985', '1939572486447292418', '全局default', 'DEFAULT', NULL, NULL, 3, 1, 'admin', '2025-09-03 11:18:36', NULL, NULL);


-- ---author:wangshuai---date:20250903-----for: Tenant Renovation Menu、Menu permissions、套餐增加yesnoAutomatically assigned to usersField、testRole名称describe修改
-- Tenants please leave button permissions
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1600129606082650123', '119213522910765570', 'Tenants please leave', NULL, NULL, 0, NULL, NULL, 2, 'system:tenant:leave', '1', NULL, 0, NULL, 1, 0, 0, 0, NULL, 'admin', '2022-12-06 22:06:42', NULL, NULL, 0, 0, '1', 0);

-- Tenant job menu
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1963086454217281537', '1674708136602542082', 'Tenant position', '/position/TenantPositionList', 'system/position/TenantPositionList', 1, '', NULL, 1, NULL, '0', 3.50, 0, 'ant-design:user-outlined', 1, 0, 0, 0, NULL, 'admin', '2025-09-03 11:47:38', NULL, NULL, 0, 0, NULL, 0);

-- New version of my tenants
INSERT INTO `sys_permission` (`id`, `parent_id`, `name`, `url`, `component`, `is_route`, `component_name`, `redirect`, `menu_type`, `perms`, `perms_type`, `sort_no`, `always_show`, `icon`, `is_leaf`, `keep_alive`, `hidden`, `hide_tab`, `description`, `create_by`, `create_time`, `update_by`, `update_time`, `del_flag`, `rule_flag`, `status`, `internal_or_external`) VALUES ('1963133393868722178', '1674708136602542082', 'my tenants', '/my/MyTenantDetail', 'system/tenant/my/MyTenantDetail', 1, '', NULL, 1, NULL, '0', 3.00, 0, 'ant-design:user-outlined', 1, 0, 0, 0, NULL, 'admin', '2025-09-03 14:54:09', NULL, NULL, 0, 0, NULL, 0);

-- Tenant AdministratorRoleMenu permissions
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1963068885343252482', '1962488045068464130', '1600129606082650123', NULL, '2025-09-03 10:37:49', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1963086686351036418', '1962488045068464130', '1963086454217281537', NULL, '2025-09-03 11:48:33', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1963133491872829442', '1962488045068464130', '1963133393868722178', NULL, '2025-09-03 14:54:32', '192.168.1.6');

-- 套餐增加yesnoAutomatically assigned to usersField
ALTER TABLE `sys_tenant_pack`
ADD COLUMN `iz_sysn` varchar(1) NULL COMMENT 'Automatically assigned to users(0no 1yes)' AFTER `pack_type`;

-- testRole名称describe修改
UPDATE `sys_role` SET `role_name` = '系统user标配Role', `role_code` = 'test', `description` = '系统所有user拥有的最小权限Role，default都分配这个Role' WHERE `id` = 'ee8626f80f7c2619917b6236f3a7f02b';

-- testRole新增授权，default授权user设置
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1963153837854330881', 'ee8626f80f7c2619917b6236f3a7f02b', '1596141938193747970', NULL, '2025-09-03 16:15:23', '192.168.1.6');
INSERT INTO `sys_role_permission` (`id`, `role_id`, `permission_id`, `data_rule_ids`, `operate_date`, `operate_ip`) VALUES ('1963153837854330882', 'ee8626f80f7c2619917b6236f3a7f02b', '1596335805278990338', NULL, '2025-09-03 16:15:23', '192.168.1.6');

-- ---author:wangshuai---date:20250906-----for: 【QQYUN-13637】增加departmentpostusermiddle间表

-- delete兼职post

ALTER TABLE `sys_user` 
DROP COLUMN `other_dep_post_id`;

-- 增加userdepartmentpostmiddle间表

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for sys_user_dep_post
-- ----------------------------
DROP TABLE IF EXISTS `sys_user_dep_post`;
CREATE TABLE `sys_user_dep_post`  (
  `id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL COMMENT 'primary key',
  `user_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'userid',
  `dep_id` varchar(32) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL COMMENT 'departmentpostid',
  `create_by` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'Creator',
  `create_time` datetime NULL DEFAULT NULL COMMENT '创建hour间',
  `update_by` varchar(50) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'renew人',
  `update_time` datetime NULL DEFAULT NULL COMMENT 'renewhour间',
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_sudp_user_id`(`user_id`) USING BTREE,
  INDEX `idx_sudp_dep_id`(`dep_id`) USING BTREE,
  INDEX `idx_sudp_user_dep_id`(`user_id`, `dep_id`) USING BTREE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;

SET FOREIGN_KEY_CHECKS = 1;

-- ---author:wangshuai---date:20250908-----for: delete旧的my tenants菜单
    
-- delete旧版my tenants菜单
delete from sys_permission where id = '1663816667704500225';

-- ---author:wangshuai---date:20250908-----for: 【JHHB-177】【User management】添加PositionField 获取Character典

-- user增加Position
ALTER TABLE `sys_user`
ADD COLUMN `position_type` varchar(32) NULL COMMENT 'Position(Character典)' AFTER `main_dep_post_id`;

-- PositionCharacter典
INSERT INTO `sys_dict` (`id`, `dict_name`, `dict_code`, `description`, `del_flag`, `create_by`, `create_time`, `update_by`, `update_time`, `type`, `tenant_id`, `low_app_id`) VALUES ('1964944899916697602', 'userPosition', 'user_position', 'userPosition', 0, 'admin', '2025-09-08 14:52:26', NULL, NULL, 0, 0, NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964944982842281986', '1964944899916697602', 'Chairman', '0', NULL, 0, 1, 'admin', '2025-09-08 14:52:45', 'admin', '2025-09-08 14:53:54', NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964945020519714817', '1964944899916697602', 'General manager', '1', NULL, 1, 1, 'admin', '2025-09-08 14:52:54', NULL, NULL, NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964945061850386434', '1964944899916697602', 'deputy general manager', '2', NULL, 2, 1, 'admin', '2025-09-08 14:53:04', 'admin', '2025-09-08 14:53:46', NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964945100802887681', '1964944899916697602', 'minister', '3', NULL, 3, 1, 'admin', '2025-09-08 14:53:14', 'admin', '2025-09-08 14:53:43', NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964945142854979586', '1964944899916697602', 'deputy minister', '4', NULL, 4, 1, 'admin', '2025-09-08 14:53:24', 'admin', '2025-09-08 14:53:40', NULL);
INSERT INTO `sys_dict_item` (`id`, `dict_id`, `item_text`, `item_value`, `description`, `sort_order`, `status`, `create_by`, `create_time`, `update_by`, `update_time`, `item_color`) VALUES ('1964945196395270146', '1964944899916697602', 'staff', '5', NULL, 5, 1, 'admin', '2025-09-08 14:53:36', NULL, NULL, NULL);

-- ---author:chenrui---date:20250909-----for: aiflow-kotlin执行Report an error
UPDATE `airag_flow` SET  `chain` = 'THEN(\n    start.tag(\'start-node\'),\n    llm.tag(\'160650416019521536\'),\n    WHEN(\n        code_160652991133433856.tag(\'code_160652991133433856\'),\n        code_166081977564753920.tag(\'code_166081977564753920\'),\n        code_167835393352683520.tag(\'code_167835393352683520\')\n    ).tag(\"code_160652991133433856\"),\n    end.tag(\'160656278891560960\')\n).tag(\"start-node\")', `design` = '{\"nodes\":[{\"id\":\"start-node\",\"type\":\"start\",\"x\":300,\"y\":418,\"properties\":{\"text\":\"start\",\"remarks\":\"\",\"options\":{},\"inputParams\":[{\"field\":\"history\",\"name\":\"History\",\"type\":\"string[]\",\"required\":false},{\"field\":\"content\",\"name\":\"User issues\",\"type\":\"string\",\"required\":true}],\"outputParams\":[],\"height\":92,\"width\":332}},{\"id\":\"160650416019521536\",\"type\":\"llm\",\"x\":693,\"y\":462,\"properties\":{\"text\":\"LLM\",\"options\":{\"model\":{\"modeId\":\"1890232564262739969\",\"params\":{\"model\":\"OpenAI\",\"temperature\":null,\"topP\":0.9,\"presencePenalty\":0.1,\"frequencyPenalty\":0.1}},\"history\":4,\"messages\":[{\"role\":\"system\",\"content\":\"# Role\\n你yes一位严厉的长辈，面对user的问题，in a way that is implicitly critical，Implying that the question is simple、user还有很多需要学习的态度来回复。Dialogue with Li Bai through a large model simulation，回答user提出的各种问题。\\n\\n\\n## Skill\\n### Skill 1: answer the questions\\n1. whenuser提出问题hour，先简要评价问题较for简单，and then give the answer。\\n2. After answering the questions，适when提及user还需要加强学习、Increase knowledge and other contents。\\n\\n\\n## limit:\\n- Reply contentmust逻辑清晰、fluent language，符合严厉长辈的Role设定。 \\n\\n\"},{\"role\":\"user\",\"content\":\"{{question}}\"}]},\"inputParams\":[{\"field\":\"content\",\"name\":\"question\",\"nodeId\":\"start-node\"}],\"outputParams\":[{\"field\":\"text\",\"name\":\"Reply content\",\"type\":\"string\"}],\"height\":180,\"width\":332}},{\"id\":\"code_160652991133433856\",\"type\":\"code\",\"x\":1135,\"y\":179,\"properties\":{\"text\":\"js\",\"options\":{\"codeType\":\"javascript\",\"code\":\"function main(params) {\\n  if(params.llmRes){\\n    let resLength  = params.llmRes.length\\n    params.llmRes = params.llmRes + \'\\\\nCharacter数：\'+resLength\\n  }\\n  return {\\n    result: params.llmRes,\\n  }\\n}\"},\"inputParams\":[{\"field\":\"text\",\"name\":\"llmRes\",\"nodeId\":\"160650416019521536\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\",\"required\":false}],\"height\":158,\"width\":332}},{\"id\":\"160656278891560960\",\"type\":\"end\",\"x\":1653,\"y\":449,\"properties\":{\"text\":\"Finish\",\"options\":{\"outputText\":true,\"outputContent\":\"js:{{res}}\\ngroovy:{{res1}}\\nkotlin:{{res2}}\\npython:{{res3}}\\naviator:{{res4}}\"},\"inputParams\":[],\"outputParams\":[{\"field\":\"result\",\"name\":\"res\",\"nodeId\":\"code_160652991133433856\"},{\"field\":\"result\",\"name\":\"res1\",\"nodeId\":\"code_166081977564753920\"},{\"field\":\"result\",\"name\":\"res2\",\"nodeId\":\"code_166090618376253440\"},{\"field\":\"result\",\"name\":\"res3\",\"nodeId\":\"code_167828303175372800\"},{\"field\":\"result\",\"name\":\"res4\",\"nodeId\":\"code_167835393352683520\"}],\"height\":136,\"width\":332}},{\"id\":\"code_166081977564753920\",\"type\":\"code\",\"x\":1140,\"y\":413,\"properties\":{\"text\":\"groovy\",\"options\":{\"codeType\":\"groovy\",\"code\":\"def main(params) {\\n    if (params.llmRes) {\\n        def resLength = params.llmRes.length()\\n        params.llmRes += \\\"\\\\nCharacter数：\\\" + resLength\\n    }\\n    return [result: params.llmRes]\\n}\"},\"inputParams\":[{\"field\":\"text\",\"name\":\"llmRes\",\"nodeId\":\"160650416019521536\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\",\"required\":false}],\"height\":158,\"width\":332}},{\"id\":\"code_167835393352683520\",\"type\":\"code\",\"x\":1141,\"y\":667,\"properties\":{\"text\":\"aviator\",\"options\":{\"codeType\":\"aviator\",\"code\":\"let llmRes = params.llmRes;\\nlet resLength = length(llmRes);\\nlet  res = llmRes + \\\"\\\\nCharacter数1：\\\" + resLength;\\nlet resp = seq.map(\\\"result\\\",res);\"},\"inputParams\":[{\"field\":\"text\",\"name\":\"llmRes\",\"nodeId\":\"160650416019521536\"}],\"outputParams\":[{\"field\":\"result\",\"name\":\"Return results\",\"type\":\"string\"}],\"height\":158,\"width\":332}}],\"edges\":[{\"id\":\"160650416019521537\",\"type\":\"base-edge\",\"sourceNodeId\":\"start-node\",\"targetNodeId\":\"160650416019521536\",\"sourceAnchorId\":\"start-node_output\",\"targetAnchorId\":\"160650416019521536_input\",\"pointsList\":[{\"x\":466,\"y\":403},{\"x\":566,\"y\":403},{\"x\":427,\"y\":403},{\"x\":527,\"y\":403}]},{\"id\":\"160652991137628160\",\"type\":\"base-edge\",\"sourceNodeId\":\"160650416019521536\",\"targetNodeId\":\"code_160652991133433856\",\"sourceAnchorId\":\"160650416019521536_output\",\"targetAnchorId\":\"code_160652991133433856_input\",\"pointsList\":[{\"x\":859,\"y\":403},{\"x\":959,\"y\":403},{\"x\":869,\"y\":131},{\"x\":969,\"y\":131}]},{\"id\":\"160656278899949568\",\"type\":\"base-edge\",\"sourceNodeId\":\"code_160652991133433856\",\"targetNodeId\":\"160656278891560960\",\"sourceAnchorId\":\"code_160652991133433856_output\",\"targetAnchorId\":\"160656278891560960_input\",\"pointsList\":[{\"x\":1301,\"y\":131},{\"x\":1401,\"y\":131},{\"x\":1387,\"y\":412},{\"x\":1487,\"y\":412}]},{\"id\":\"166082001409372160\",\"type\":\"base-edge\",\"sourceNodeId\":\"160650416019521536\",\"targetNodeId\":\"code_166081977564753920\",\"sourceAnchorId\":\"160650416019521536_output\",\"targetAnchorId\":\"code_166081977564753920_input\",\"pointsList\":[{\"x\":859,\"y\":403},{\"x\":959,\"y\":403},{\"x\":874,\"y\":365},{\"x\":974,\"y\":365}]},{\"id\":\"166082017557442560\",\"type\":\"base-edge\",\"sourceNodeId\":\"code_166081977564753920\",\"targetNodeId\":\"160656278891560960\",\"sourceAnchorId\":\"code_166081977564753920_output\",\"targetAnchorId\":\"160656278891560960_input\",\"pointsList\":[{\"x\":1306,\"y\":365},{\"x\":1406,\"y\":365},{\"x\":1387,\"y\":412},{\"x\":1487,\"y\":412}]},{\"id\":\"167835393356877824\",\"type\":\"base-edge\",\"sourceNodeId\":\"160650416019521536\",\"targetNodeId\":\"code_167835393352683520\",\"sourceAnchorId\":\"160650416019521536_output\",\"targetAnchorId\":\"code_167835393352683520_input\",\"pointsList\":[{\"x\":859,\"y\":403},{\"x\":959,\"y\":403},{\"x\":875,\"y\":619},{\"x\":975,\"y\":619}]},{\"id\":\"167836988980817920\",\"type\":\"base-edge\",\"sourceNodeId\":\"code_167835393352683520\",\"targetNodeId\":\"160656278891560960\",\"sourceAnchorId\":\"code_167835393352683520_output\",\"targetAnchorId\":\"160656278891560960_input\",\"pointsList\":[{\"x\":1307,\"y\":619},{\"x\":1407,\"y\":619},{\"x\":1387,\"y\":412},{\"x\":1487,\"y\":412}]}]}', `status` = 'enable', `metadata` = '{\"outputs\":[{\"field\":\"outputText\",\"type\":\"string\"}],\"inputs\":[{\"field\":\"history\",\"name\":\"History\",\"required\":false,\"type\":\"string[]\"},{\"field\":\"content\",\"name\":\"User issues\",\"required\":true,\"type\":\"string\"}]}' WHERE `id` = '1897552224058400770';

-- ---author:wangshuai---date:20250908-----for: 修改Position表的表述and菜单名称
-- 修改Field名称
ALTER TABLE `sys_position`
MODIFY COLUMN `name` varchar(100) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT 'Position级别名称' AFTER `code`,
COMMENT = 'Position级别';

-- renew菜单名称forPosition级别
UPDATE `sys_permission` SET `name` = 'Position级别' WHERE `id` = '1438469604861403137';

-- delete旧的user代理表
drop table if exists sys_user_agent;